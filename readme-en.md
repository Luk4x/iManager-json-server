<table align="right">
  <tr>
    <td>
      <a href="readme-en.md">ðŸ‡ºðŸ‡¸ English</a>
    </td>
  </tr>
  <tr>
    <td>
      <a href="README.md">ðŸ‡§ðŸ‡· PortuguÃªs</a>
    </td>
  </tr>
</table>
<br>

# ðŸª™ iManager Project API
> Access the project online **[HERE](https://luk4x-imanager-json-server.herokuapp.com/)**
<br>

## Technologies used
- [NodeJS](https://nodejs.org)
- [JSON-Server](https://yarnpkg.com/package/json-server)
- [Javascript](https://developer.mozilla.org/en-US/docs/Web/JavaScript)

## About
This project is a JSON-Server API that registers projects and stores the project categories of a management platform - the iManager, serving as the basis for its [Interface](https://github.com/Luk4x/iManager ) that I developed essentially in [ReactJS](https://pt-br.reactjs.org).

### Routes and Examples
-   `POST /projects`: This route takes the _project name_, the _project budget_ and the _project category_. This information is passed by the `body` of the request, and based on it a new project is registered inside the projects array, in the following format:
    
    ```js
    [
        {
            "name": "Projeto 1",
            "budget": "5000",
            "category": {
                "id": 1,
                "name": "Infra"
            },
            "cost": 0,
            "services": [],
            "id": 1
        }
    ];
    ```

    The `cost` and `services` information are initialized by default in the system respectively as `0` and `[]`, and the `id` is generated based on the project position in the array, and together these 3 information are incorporated in the project.<br>

-   `GET /projects`: This route returns all existing projects in the `projects` array.

-   `GET /projects/:id`: Based on the `id` submitted, this route returns a specific project.

-   `PATCH /projects/:id`: Based on the `id` sent and the project data sent by the `body` of the request, this route makes it possible to update the `name`, `budget` and/or `category` information of a specific project.<br/>
    Continuing from the example above, when calling the `PATCH /projects/1` route passing `{ name: "New Project 1", budget: 6500, category: { id: 2, name: "Desenvolvimento"} }`, the array will be thus:
    
     ```js
    [
        {
            "name": "New Project 1",
            "budget": "6500",
            "category": {
                "id": 2,
                "name": "Desenvolvimento"
            },
            "cost": 0,
            "services": [],
            "id": 1
        }
    ];
    ```
    
    However, through this route it is also possible to update the `services` array of the project, thus being able to Create/Edit/Remove services - everything will depend on what is being sent by the `body` of the request. Bearing in mind that:<br/>
    
    ```js
        const project = {
            "name": "New Project 1",
            "budget": "6500",
            "category": {
                "id": 2,
                "name": "Desenvolvimento"
            },
            "cost": 0,
            "id": 1
        }
    ```
    
    When calling the `PATCH /projects/1` route passing `{...project, services: [ { name: "Front-End Dev Hiring", cost: 3400, desc: "Responsible for developing the application layout." } ] }`, the array will look like this:
    
    ```js
    [
        {
            "name": "New Project 1",
            "budget": "6500",
            "category": {
                "id": 2,
                "name": "Desenvolvimento"
            },
            "cost": 3400,
            "services": [
              {
                  "name": "Front-End Dev Hiring",
                  "cost": 3400,
                  "desc": "Responsible for developing the application layout.",
                  "id": "dea206b3-409d-4b3f-9493-4bc2d27466a2"
              }
            ],
            "id": 1
        }
    ];
    ```

    The service that was passed in the request was created, and in this case, its `id` information was generated by the library [uuid](https://www.uuidgenerator.net/).<br/>
    To Edit/Delete a service follows the same logic: just send a `project` in the desired state in the request, which through its `id`, it will replace the existing `project` in the `projects` array.<br/>
    Note that the `cost` value of the project was influenced by the added service, this is because the _project cost_ is related to its _services_, so if the project has 2 services with a `cost` of 4000 each, then the `cost` of the project will be 8000, however, in this case this is impossible, as there are checks to ensure that the `cost` of a project does not exceed its `budget`.
    
-   `DELETE /projects/:id`: Based on the `id` sent, once called this route deletes the incoming project.

-   `GET /categories`: This route returns all existing categories in the `categories` array.

## Como usar
To clone and run this project, you will need [Git](https://git-scm.com/), [Node.js v16.13.2](https://nodejs.org/en/) or higher, and preferably an API Client such as [Insomnia](https://insomnia.rest/) (but can also be accessed via the browser) installed on your computer.<br>In the terminal:

```bash
# Clone this repository with:
$ git clone https://github.com/Luk4x/iManager-json-server.git

# Enter the repository with:
$ cd iManager-json-server

# Install dependencies with: 
$ yarn install

# Run the project with:
$ yarn start

# The server will start at http://localhost:5000/, and you can explore it using Insomnia or a browser.
```

## Contributor Contact
<table>
  <tr>
    <td align="center">
      <a href="https://www.linkedin.com/in/lucasmacielf/">
        <img src="https://avatars.githubusercontent.com/Luk4x" width="150px;" alt="Luk4x Github Photo"/><br>
        <sub>
          <b>Lucas Maciel</b>
        </sub>
      </a>
    </td>
  </tr>
</table>
